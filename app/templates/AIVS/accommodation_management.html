{% extends "home.html" %}

{% block title %} 填寫住宿資料 {% endblock title%}

{% block heading %}
<div class="d-sm-flex align-items-center justify-content-between">
    <span class="h3 mb-0 text-gray-800 font-weight-bold">填寫住宿資料</span>
</div>
{% endblock heading %}

{% block content %}
<style>
    .form-group {
        margin-bottom: 15px;
    }

    .card {
        border: 1px solid #dee2e6;
        border-radius: 5px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
    }

    .card-body {
        padding: 15px;
    }

    .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
        color: white;
        padding: 10px 20px;
        font-size: 16px;
        border-radius: 5px;
    }

    .btn-primary:hover {
        background-color: #0056b3;
        border-color: #004085;
    }
</style>

<!-- 管理員 -->
{% if current_user.type == 'administrator' %}
    {% for item in data %}
        <form action="{{url_for('accommodation_management.update')}}" method="post" class="mb-4">
            <div class="form-group">
                <label for="id">學號:</label>
                <input type="text" class="form-control" id="id" name="id" value="{{item.id}}" required>
            </div>
            <div class="form-group">
                <label for="semester">學年/學期:</label>
                <input type="text" class="form-control" id="semester" name="semester" value="{{item.semester}}" placeholder="XXX/X" required>
            </div>
            <div class="form-group">
                <label for="where_to_live">住宿地:</label>
                <select class="form-control" id="where_to_live" name="where_to_live" required>
                    <option value="0" {% if item.where_to_live == 0 %} selected {% endif %}>住家裡</option>
                    <option value="1" {% if item.where_to_live == 1 %} selected {% endif %}>寄居親友家</option>
                    <option value="2" {% if item.where_to_live == 2 %} selected {% endif %}>住校</option>
                    <option value="3" {% if item.where_to_live == 3 %} selected {% endif %}>在外租屋</option>
                </select>
            </div>
            <div class="form-group">
                <label for="addr">住宿地址:</label>
                <input type="text" class="form-control" id="addr" name="addr" value="{{item.addr}}" required>
            </div>
            <div class="form-group">
                <label for="landlord_name">房東姓名:</label>
                <input type="text" class="form-control" id="landlord_name" name="landlord_name" value="{{item.landlord_name}}" required>
            </div>
            <div class="form-group">
                <label for="landlord_tel">房東電話:</label>
                <input type="text" class="form-control" id="landlord_tel" name="landlord_tel" value="{{item.landlord_tel}}" required>
            </div>
            <div class="form-group">
                <label for="rent">租金:</label>
                <input type="text" class="form-control" id="rent" name="rent" value="{{item.rent}}" required>
            </div>
            <div class="form-group">
                <label for="roommate_id">同住室友學號:</label>
                <input type="text" class="form-control" id="roommate_id" name="roommate_id" value="{{item.roommate_id}}" required>
            </div>
            <button type="submit" class="btn btn-primary">送出</button>
        </form>
        <hr>
    {% endfor %}
{% endif %}

<!-- 老師 -->
{% if current_user.type == 'advisor' %}
    {% for item in data %}
        <div class="card">
            <div class="card-body">
                <p><strong>學號:</strong> {{item.id}}</p>
                <p><strong>學年/學期:</strong> {{item.semester}}</p>
                <p><strong>住宿地:</strong> {% if item.where_to_live == 0 %} 住家裡 {% elif item.where_to_live == 1 %} 寄居親友家 {% elif item.where_to_live == 2 %} 住校 {% elif item.where_to_live == 3 %} 在外租屋 {% endif %}</p>
                <p><strong>住宿地址:</strong> {{item.addr}}</p>
                <p><strong>房東姓名:</strong> {{item.landlord_name}}</p>
                <p><strong>房東電話:</strong> {{item.landlord_tel}}</p>
                <p><strong>租金:</strong> {{item.rent}}</p>
                <p><strong>同住室友學號:</strong> {{item.roommate_id}}</p>
            </div>
        </div>
    {% endfor %}
{% endif %}

<!-- 學生 -->
{% if current_user.type == 'student' %}
    <form action="{{url_for('accommodation_management.update')}}" method="post" class="mb-4">
        <div class="form-group">
            <label for="id">學號:</label>
            <input type="text" class="form-control" id="id" name="id" value="{{data.id}}" required>
        </div>
        <div class="form-group">
            <label for="semester">學年/學期:</label>
            <input type="text" class="form-control" id="semester" name="semester" value="{{data.semester}}" placeholder="XXX/X">
        </div>
        <div class="form-group">
            <label for="where_to_live">住宿地:</label>
            <select class="form-control" id="where_to_live" name="where_to_live" required>
                <option value="0" {% if data.where_to_live == 0 %} selected {% endif %}>住家裡</option>
                <option value="1" {% if data.where_to_live == 1 %} selected {% endif %}>寄居親友家</option>
                <option value="2" {% if data.where_to_live == 2 %} selected {% endif %}>住校</option>
                <option value="3" {% if data.where_to_live == 3 %} selected {% endif %}>在外租屋</option>
            </select>
        </div>
        <div class="form-group">
            <label for="addr">住宿地址:</label>
            <input type="text" class="form-control" id="addr" name="addr" value="{{data.addr}}">
        </div>
        <div class="form-group">
            <label for="landlord_name">房東姓名:</label>
            <input type="text" class="form-control" id="landlord_name" name="landlord_name" value="{{data.landlord_name}}">
        </div>
        <div class="form-group">
            <label for="landlord_tel">房東電話:</label>
            <input type="text" class="form-control" id="landlord_tel" name="landlord_tel" value="{{data.landlord_tel}}">
        </div>
        <div class="form-group">
            <label for="rent">租金:</label>
            <input type="text" class="form-control" id="rent" name="rent" value="{{data.rent}}">
        </div>
        <div class="form-group">
            <label for="roommate_id">同住室友學號:</label>
            <input type="text" class="form-control" id="roommate_id" name="roommate_id" value="{{data.roommate_id}}">
        </div>
        <button type="submit" class="btn btn-primary">送出</button>
    </form>
{% endif %}
{% endblock content %}
